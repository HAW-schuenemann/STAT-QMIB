# Understanding R Objects and Data Structures  
Author: Jan-Hendrik Schünemann  
Module: STAT / QMIB  
Version: v1.0  
Last Update: 2025-12-11  
License: MIT  

---

## 1. Overview

In statistics, we classify variables as:

- **Metric (Scale)**  
- **Ordinal**  
- **Nominal**

In R, variables have **data types** such as:

- numeric  
- character  
- factor  
- ordered factor  

Understanding how these concepts relate is essential for working correctly with datasets in R.

---

## 2. Linking Statistical Variable Types to R Data Types

### 2.1 Metric (Scale) → `numeric` in R

Metric variables are numbers where mathematical operations make sense:

Examples:  
- age  
- income  
- temperature  
- distance  

In R these should be stored as:

```r
class(df$age)
# "numeric"
```

Numeric variables allow:

- arithmetic (`+ - * /`)  
- summary statistics (mean, sd, quantiles)  
- correlations  

If metric data is accidentally stored as text (`character`), R will not be able to perform calculations.

---

### 2.2 Nominal → `factor` (unordered categories)

Nominal variables are **categories without order**:

Examples:  
- gender  
- country  
- department  
- yes/no questions  

In R these belong to the **factor** type:

```r
class(df$gender)
# "factor"
```

Factors tell R:

- this variable contains categories  
- values should not be treated as numbers  
- `freq()` and plots will work correctly  

If nominal data is stored as `character`, R can still work with it, but **factors are preferred** because many R functions are optimized for them.

---

### 2.3 Ordinal → `ordered factor` (categories with a ranked order)

Ordinal variables have **a logical order**, but no consistent numeric spacing between levels.

Examples:  
- education levels  
- satisfaction scores  
- rankings  

In R, ordinal data should be stored as:

```r
ordered(c("Low", "Medium", "High"))
```

Or as:

```r
class(df$education)
# "ordered" "factor"
```

Ordered factors preserve:

- the defined order (Low < Medium < High)  
- correct sorting  
- meaningful comparisons (greater/less than)  

This is extremely important for frequency tables and ordered bar charts.

---

## 3. Common R Data Structures You Will Use

### 3.1 Vectors

A **vector** is the simplest R object: a sequence of values of the same type.

```r
ages <- c(23, 25, 30, 28)
```

Vectors are used to create columns inside data frames.

---

### 3.2 Factors

Factors are used for categorical (nominal or ordinal) data.

```r
gender <- factor(c("Male", "Female", "Female"))
```

Ordered factors:

```r
edu <- factor(c("High School", "Bachelor", "Master"),
              ordered = TRUE,
              levels = c("High School", "Bachelor", "Master"))
```

---

### 3.3 Data Frames

A **data frame** is a table where each column is a vector of equal length.

```r
df <- data.frame(
  age = c(25, 30, 22),
  gender = factor(c("Male", "Female", "Female")),
  income = c(40000, 45000, 38000)
)
```

Data frames are the main data structure in this course.

---

## 4. Checking Variable Types in R

You can always inspect variable types using:

```r
str(df)
```

Example:

```
$ age    : num 25 30 22
$ gender : Factor w/ 2 levels "Female","Male": 2 1 1
$ income : num 40000 45000 38000
```

Or for one variable:

```r
class(df$gender)
```

---

## 5. Why `.rds` Files Are Useful Here

The `.rds` format preserves:

- numeric  
- factor  
- ordered factor  
- date objects  

This ensures:

- nominal variables stay factors  
- ordinal variables keep their order  
- metric variables remain numeric  

This avoids errors such as:

- R treating numbers as text  
- wrong sorting  
- incorrect frequency tables  

---

## 6. Summary Table: Statistics vs. R

| Statistical Type | Meaning | R Data Type | Example |
|------------------|---------|-------------|---------|
| Metric (Scale) | numeric values with arithmetic meaning | `numeric` | age, salary |
| Nominal | categories without order | `factor` | gender, department |
| Ordinal | ordered categories | `ordered factor` | education level |

---

## 7. Summary

- Metric → numeric  
- Nominal → factor  
- Ordinal → ordered factor  
- Vectors form the columns of data frames  
- Data frames store your datasets  
- Always check types with `str(df)` or `class(df$variable)`  
- `.rds` files guarantee correct variable types from the start  

---


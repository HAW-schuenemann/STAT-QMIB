# Understanding R Objects and Data Structures  
Author: Jan-Hendrik Schünemann  
Module: STAT / QMIB  
Version: v1.0  
Last Update: 2025-12-11  
License: MIT  

---

## 1. Overview

In statistics, we classify variables as:

- **Metric (Scale)**  
- **Ordinal**  
- **Nominal**

In R, variables have **data types** such as:

- numeric  
- integer  
- character  
- factor  
- ordered factor  

This document explains how the statistical types relate to the R data types you will see when working with datasets.

---

## 2. Linking Statistical Variable Types to R Data Types

### 2.1 Metric (Scale) → `numeric` or `integer` in R

Metric variables contain numbers where mathematical operations make sense:

Examples:  
- age  
- income  
- temperature  
- grades on a 0–100 scale  

In R, these are typically stored as:

```r
class(df$age)
# "numeric"
```

However, **if the variable contains only whole numbers**, R may store it as:

```
"integer"
```

Example:

```r
x <- c(1, 2, 3, 4)
class(x)
# "integer"
```

### Important Note for Students

For our purposes:

- **numeric** and **integer** behave the same in 99% of cases  
- both are valid representations of metric (scale) data  
- both allow arithmetic, summary statistics, quantiles, and correlations  

You do **not** need to convert integers to numeric unless a specific function requires it (rare in this course).

---

### 2.2 Nominal → `factor` (unordered categories)

Nominal variables are categories without order:

Examples:  
- gender  
- department  
- country  
- yes/no questions  

In R these belong to the **factor** type:

```r
class(df$gender)
# "factor"
```

Factors ensure:

- correct handling of categories  
- proper sorting and grouping  
- correct output in `freq()` and bar charts  

If a nominal variable is stored as `character`, R can still work with it,  
but many functions behave better with factors.

---

### 2.3 Ordinal → `ordered factor` (categories with a meaningful order)

Ordinal variables have categories that follow a ranked order:

Examples:  
- education level  
- satisfaction ratings (low < medium < high)  
- rankings (1st, 2nd, 3rd)  

In R:

```r
class(df$education)
# "ordered" "factor"
```

Ordered factors preserve:

- the correct order of categories  
- meaningful comparisons  
- proper ordering in frequency tables and graphs  

This is especially important for `freq()` and visualisations.

---

## 3. Common R Data Structures You Will Use

### 3.1 Vectors  
The simplest R object. A sequence of values of the **same type**.

```r
ages <- c(23, 25, 30, 28)
```

All columns in a data frame are vectors.

---

### 3.2 Factors  
For categorical data:

```r
gender <- factor(c("Male", "Female", "Female"))
```

Ordered factors:

```r
edu <- factor(
  c("High School", "Bachelor", "Master"),
  ordered = TRUE,
  levels = c("High School", "Bachelor", "Master")
)
```

---

### 3.3 Data Frames  
A table where each column is a vector.

```r
df <- data.frame(
  age = c(25, 30, 22),
  gender = factor(c("Male", "Female", "Female")),
  income = c(40000, 45000, 38000)
)
```

This is the main structure used in this course.

---

## 4. Checking Variable Types in R

To inspect all variable types in a dataset:

```r
str(df)
```

Example output:

```
$ age    : int 25 30 22
$ gender : Factor w/ 2 levels "Female","Male": 2 1 1
$ income : num 40000 45000 38000
```

To check one variable:

```r
class(df$gender)
```

---

## 5. Why `.rds` Files Are Useful in This Course

The `.rds` format preserves:

- numeric and integer values  
- factors  
- ordered factors  
- date objects  

This avoids typical CSV problems such as:

- numbers read as text  
- loss of factor levels  
- incorrect ordering  
- locale issues with decimal separators  

When students load `.rds` files, the data types are already correct.

---

## 6. Summary Table: Statistics vs. R

| Statistical Type | Meaning | R Data Type | Example |
|------------------|---------|-------------|---------|
| Metric (Scale) | numeric values | `numeric` or `integer` | age, salary |
| Nominal | categories without order | `factor` | gender, department |
| Ordinal | ordered categories | `ordered factor` | education level |

---

## 7. Summary

- Metric variables → numeric or integer in R  
- Nominal variables → factor  
- Ordinal variables → ordered factor  
- Vectors form columns of data frames  
- Always inspect your data types with `str(df)`  
- `.rds` files keep variable types correct from the start  

---


# Commenting Code in R  
Author: Jan-Hendrik Schünemann  
Module: STAT / QMIB  
Version: v1.0  
Last Update: YYYY-MM-DD  
License: MIT  

---

## 1. Why Commenting Your Code Is Important

Comments explain *what* your code is doing and *why* you are doing it.

In this course, comments help you:

- understand your own scripts when you return to them later  
- structure your assignments clearly  
- avoid confusion when reviewing output  
- show the logic behind your steps  
- make your work readable for others (and for grading)

Good comments are short and informative.

---

## 2. How to Write Comments in R

R uses the `#` symbol to create a comment.

Everything written after `#` on the same line is ignored by R.

Example:

```r
# Create a vector with ages
age <- c(23, 25, 26, 30)
```

Comments do *not* affect the code; they are only for humans.

---

## 3. Two Types of Comments

### 3.1 Inline comments (end of a line)

Use this for small clarifications.

```r
mean(age)   # calculate the average age
```

### 3.2 Full-line comments (above the code)

Use this when explaining a step, task, or transformation.

```r
# Filter only female employees
df_female <- df %>% filter(gender == "Female")
```

Full-line comments improve readability and structure.

---

## 4. What Should Be Commented?

### 4.1 A new section of your analysis  
Clearly mark different steps.

```r
# --- Load required packages ---
library(dplyr)
library(summarytools)
```

### 4.2 Any data transformation  
Explain *why* you apply filters, selections, or mutations.

```r
# Convert salary to thousands for easier interpretation
df <- df %>% mutate(salary_k = salary / 1000)
```

### 4.3 Important outputs  
Describe what a command produces.

```r
# Frequency table for gender (absolute, relative, cumulative)
freq(df$gender)
```

---

## 5. What Should NOT Be Commented?

### 5.1 Obvious code  
This adds noise without value.

```r
x <- 5   # assign 5 to x   ← unnecessary
```

### 5.2 Comments that repeat the code  
Avoid this:

```r
mean(age)   # mean of age
```

Better:

```r
# Calculate average age of participants
mean(age)
```

### 5.3 Outdated comments  
Always update comments when the code changes.

---

## 6. Commenting Style in This Course

To ensure consistency across all submissions:

### 6.1 Add a header at the top of each script  
(Already defined in your task template.)

### 6.2 Use clear section dividers  
Like this:

```r
## 1. Load data --------------------------------------------------------------
```

### 6.3 Brief comments, not long paragraphs  
Aim for clarity, not essays.

### 6.4 Comment logical steps, not every line  
Focus on explaining *intent*, not repeating syntax.

---

## 7. Examples of Good Commenting

### Example 1: Clear structure

```r
## 1. Load packages ----------------------------------------------------------
library(dplyr)
library(summarytools)

## 2. Load dataset -----------------------------------------------------------
df <- readRDS("personnel_survey.rds")

## 3. Frequency table for gender --------------------------------------------
# Includes absolute, relative, and cumulative frequencies
freq(df$gender)
```

---

### Example 2: Data transformation pipeline

```r
# Filter women, select relevant variables, and calculate average salary
df %>%
  filter(gender == "Female") %>%
  select(age, salary) %>%
  summarise(
    avg_age = mean(age),
    avg_salary = mean(salary)
  )
```

---

## 8. Summary

Good comments:

- explain *why* you do something  
- make your code understandable to others  
- divide your script into sections  
- help you navigate and debug your assignments  
- should be clear, short, and relevant  

Bad comments:

- repeat the code  
- are too long  
- are outdated  
- add noise instead of clarity  

A well-commented script is easier to understand, grade, and extend.

---


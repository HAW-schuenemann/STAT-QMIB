# R Beginner Cheat Sheet  
Author: Jan-Hendrik Schünemann  
Module: STAT / QMIB  
Version: v1.0  
Last Update: 2025-12-11  
License: MIT  

---

## 1. RStudio Basics

### Script Editor (top-left)
- Write and save code (`.R` files)
- Sends code to console via **Ctrl/Cmd + Enter**
- Use **Run** to execute highlighted code

### Console (bottom-left)
- Runs code immediately
- Not saved automatically
- Use only for quick tests

---

## 2. Working Directory

### Check current directory
```r
getwd()
```

### Set working directory
```r
setwd("path/to/folder")
```

### Via menu  
**Session → Set Working Directory → Choose Directory…**

---

## 3. Loading Data

### Load `.rds`
```r
df <- readRDS("file.rds")
```

### Load `.csv`
```r
df <- read.csv("file.csv")
```

### German Excel CSV (`;` as separator)
```r
df <- read.csv("file.csv", sep = ";")
```

### Inspect data
```r
str(df)
head(df)
View(df)
```

---

## 4. Packages

### Install (once)
```r
install.packages("dplyr")
```

### Load (every session)
```r
library(dplyr)
```

If a function cannot be found:
```r
library(packageName)
```

---

## 5. Variable Types (Statistics ↔ R)

| Statistical Type | R Type | Example |
|------------------|--------|---------|
| Metric (Scale)   | numeric or integer | age, salary |
| Nominal          | factor | gender, department |
| Ordinal          | ordered factor | education level |

Check a variable’s type:
```r
class(df$variable)
```

---

## 6. Accessing Data

### Access a column
```r
df$age
```

### Select multiple columns (dplyr)
```r
df %>% select(age, gender)
```

---

## 7. Pipes (`%>%`)

Meaning: **pass the result of one step into the next**

Example:
```r
df %>% freq(gender)
```

Equivalent to:
```r
freq(df$gender)
```

Pipes are **required** when using dplyr transformations.

---

## 8. Core dplyr Verbs

### `select()` – choose columns
```r
df %>% select(age, gender)
```

### `filter()` – choose rows
```r
df %>% filter(age > 30)
```

### `mutate()` – create/modify variables
```r
df %>% mutate(salary_k = salary / 1000)
```

### `summarise()` – compute statistics
```r
df %>% summarise(mean_age = mean(age))
```

Often combined with `group_by()`:

```r
df %>% 
  group_by(department) %>% 
  summarise(avg_age = mean(age))
```

---

## 9. Frequency Tables

### Default method
```r
freq(df$variable)
```

### Pipe versions
```r
df %>% select(variable) %>% freq()
df %>% freq(variable)
```

---

## 10. Percentiles

Use **type = 2** (n+1 rule taught in class):

```r
quantile(df$age, 0.40, type = 2)
```

---

## 11. Common Errors & Fixes

| Error message | Cause | Fix |
|---------------|--------|------|
| object not found | typo or object not created | Check names, run previous lines |
| could not find function | package not loaded | `library(package)` |
| cannot open the connection | wrong working directory | `getwd()`, `setwd()` |
| unexpected symbol | typo / missing comma | Check code syntax |
| %>% not found | dplyr not loaded | `library(dplyr)` |
| NA/NaN argument | missing values | Add `na.rm = TRUE` |

---

## 12. Commenting Code (Optional but Helpful)

Comments improve readability but are **not required** for the course.  
However, they are very useful when revising and preparing for the exam.

Use `#` for comments:

```r
# Frequency table for gender
freq(df$gender)
```

Comments help you remember why you wrote a line of code, especially weeks later.

---

## 13. Assignment Operator

Store values:
```r
x <- 10
```

Show stored value:
```r
x
```

Running without assignment:
```r
10 + 2
```

→ prints result but does not save anything.

---

## 14. Helpful Quick Commands

### See all column names
```r
names(df)
```

### Number of rows / columns
```r
nrow(df); ncol(df)
```

### Unique values
```r
unique(df$variable)
```

---

## 15. Essential Workflow for Every Assignment

1. Set working directory  
2. Load required packages  
3. Load dataset (`readRDS()` recommended)  
4. Inspect data (`str()`, `head()`)  
5. Transform/analyze with pipes & dplyr  
6. *(Optional)* Comment key steps  
7. Save your script  

---

